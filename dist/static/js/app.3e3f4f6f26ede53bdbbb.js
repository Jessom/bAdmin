webpackJsonp([13],{"5reh":function(t,n,e){"use strict";e.d(n,"a",function(){return o}),e.d(n,"d",function(){return i}),e.d(n,"b",function(){return a}),e.d(n,"c",function(){return r});var o="HIDE_LOADING",i="SHOW_LOADING",a="SET_LOADING_TEXT",r="SET_TOKEN"},NHnr:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("//Fk"),i=e.n(o),a=e("7+uW"),r=e("/ocq");a.default.use(r.a);var u=new r.a({routes:[{path:"/",component:function(){return e.e(2).then(e.bind(null,"VZrM"))},redirect:{path:"/dashboard"},children:[{path:"/dashboard",meta:{title:"首页 | わタしAdmin"},component:function(){return e.e(5).then(e.bind(null,"npFY"))}},{path:"/article",meta:{title:"文章管理 | わタしAdmin"},component:function(){return Promise.all([e.e(0),e.e(6)]).then(e.bind(null,"UbIS"))}},{path:"/users",meta:{title:"用户管理 | わタしAdmin"},component:function(){return Promise.all([e.e(0),e.e(9)]).then(e.bind(null,"QSR2"))}},{path:"/message",meta:{title:"消息管理 | わタしAdmin"},component:function(){return Promise.all([e.e(0),e.e(10)]).then(e.bind(null,"KPGV"))}},{path:"/power",meta:{title:"权限管理 | わタしAdmin"},component:function(){return Promise.all([e.e(0),e.e(4)]).then(e.bind(null,"Q8c/"))}},{path:"/types",meta:{title:"文章类型 | わタしAdmin"},component:function(){return Promise.all([e.e(0),e.e(7)]).then(e.bind(null,"+Sn4"))}},{path:"/editor/:id",meta:{title:"编辑文章 | わタしAdmin",actived:"/article"},component:function(){return e.e(3).then(e.bind(null,"32+e"))}}]},{path:"/login",meta:{title:"登录 | わタしAdmin"},component:function(){return Promise.all([e.e(0),e.e(1)]).then(e.bind(null,"lmfZ"))}},{path:"*",meta:{title:"404 | わタしAdmin"},component:function(){return e.e(11).then(e.bind(null,"+H76"))}},{path:"/403",meta:{title:"403 | わタしAdmin"},component:function(){return e.e(8).then(e.bind(null,"k6uz"))}}]}),s=e("Dd8w"),l=e.n(s),c=e("NYxO"),d={name:"App",created:function(){var t=this;this.$Progress.start(),this.$router.beforeEach(function(n,e,o){if(void 0!==n.meta.progress){var i=n.meta.progress;t.$Progress.parseMeta(i)}t.$Progress.start(),o()}),this.$router.afterEach(function(n,e){t.$Progress.finish()})},computed:l()({},Object(c.b)({loading:function(t){return t.mutations.loading},loadingText:function(t){return t.mutations.loadingText}})),mounted:function(){this.$Progress.finish()}},m={render:function(){var t=this.$createElement,n=this._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view",{directives:[{name:"loading",rawName:"v-loading",value:this.loading,expression:"loading"}],attrs:{"element-loading-spinner":"el-icon-loading","element-loading-text":this.loadingText,"element-loading-background":"rgba(0, 0, 0, 0.6)"}}),this._v(",\n\t\t"),n("vue-progress-bar")],1)},staticRenderFns:[]};var p,f=e("VU/8")(d,m,!1,function(t){e("iI65")},null,null).exports,h=e("zL8q"),g=e.n(h),b=(e("tvR6"),e("424j")),v=e("bOdI"),A=e.n(v),k=e("5reh"),P={state:{loading:!1,loadingText:"",token:""},mutations:(p={},A()(p,k.a,function(t){t.loading=!1}),A()(p,k.d,function(t){t.loading=!0}),A()(p,k.b,function(t,n){t.loadingText=n}),A()(p,k.c,function(t,n){t.token=n}),p),getters:{getLoadingState:function(t){return t.loading},getToken:function(t){return t.token}}},T={hideLoading:function(t){(0,t.commit)(k.a)},showLoading:function(t){(0,t.commit)(k.d)},setToken:function(t,n){(0,t.commit)(k.c,n)}};a.default.use(c.a);var x=new c.a.Store({modules:{mutations:P},actions:T,plugins:[Object(b.a)()]}),E=e("zYko"),O=e.n(E),_=e("MqDE"),w=e.n(_),I=e("mtWM"),$=e.n(I);a.default.component(w.a.name,w.a),a.default.use(g.a),a.default.use(O.a,{color:"#67C23A",failedColor:"#874b4b",thickness:"2px",transition:{speed:"0.2s",opacity:"0.6s",termination:300},autoRevert:!0,location:"top",inverse:!1}),a.default.prototype.$axios=$.a,$.a.interceptors.request.use(function(t){return console.log(t),x.state.mutations.token&&(t.headers.Authorization=x.state.mutations.token),t.headers["Content-Type"]="application/json",t}),u.beforeEach(function(t,n,e){"/login"!==t.path?x.state.mutations.token?e():e({path:"/login",query:{redirect:t.fullPath}}):e()}),a.default.config.productionTip=!1;var N=new a.default({el:"#app",router:u,store:x,components:{App:f},template:"<App/>"});$.a.interceptors.response.use(function(t){var n=t.data;return console.log(t),x.commit("HIDE_LOADING"),403===n.status||401===n.status?u.push({path:"/login"}):n.status<1&&N.$message({message:n.message,type:"wraning"}),n},function(t){return console.log(t),i.a.reject(t)})},iI65:function(t,n){},tvR6:function(t,n){}},["NHnr"]);
//# sourceMappingURL=app.3e3f4f6f26ede53bdbbb.js.map